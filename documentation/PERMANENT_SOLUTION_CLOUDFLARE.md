# üöÄ –ü–û–°–¢–û–Ø–ù–ù–û–ï –†–ï–®–ï–ù–ò–ï WEBHOOK - –£–°–¢–ê–ù–û–í–õ–ï–ù–û

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. Cloudflare Tunnel —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL**: `https://uni-shapes-dean-senior.trycloudflare.com`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: Supervisor –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏ —Å–±–æ—è—Ö

### 2. Telegram Webhook –æ–±–Ω–æ–≤–ª–µ–Ω
- **–°—Ç–∞—Ä—ã–π URL**: `https://8867069a-d008-4da6-8b30-bdb8e855fcb4.preview.emergentagent.com/api/webhook`
- **–ù–æ–≤—ã–π URL**: `https://uni-shapes-dean-senior.trycloudflare.com/api/webhook`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **–°–∫—Ä–∏–ø—Ç**: `/app/scripts/tunnel_webhook_updater.sh`
- **–§—É–Ω–∫—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç webhook –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ URL —Ç—É–Ω–Ω–µ–ª—è
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ Supervisor

### 4. Supervisor Configuration
```bash
# Cloudflare Tunnel
/etc/supervisor/conf.d/cloudflare-tunnel.conf

# Webhook Updater
/etc/supervisor/conf.d/tunnel-webhook-updater.conf
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- –¢—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Supervisor

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –°–∫—Ä–∏–ø—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è URL —Ç—É–Ω–Ω–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç webhook –≤ Telegram
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ—Ç Cloudflare
- –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

## üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

### –°–µ—Ä–≤–∏—Å—ã
```
backend                          RUNNING   ‚úÖ
cloudflare-tunnel                RUNNING   ‚úÖ  
tunnel-webhook-updater           RUNNING   ‚úÖ
bot-monitor                      RUNNING   ‚úÖ
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Health Check**: `https://uni-shapes-dean-senior.trycloudflare.com/api/health` ‚úÖ
- **Webhook Endpoint**: `https://uni-shapes-dean-senior.trycloudflare.com/api/webhook` ‚úÖ
- **Telegram Webhook**: –ê–∫—Ç–∏–≤–µ–Ω ‚úÖ

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç—É–Ω–Ω–µ–ª—è
```bash
sudo supervisorctl status cloudflare-tunnel
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Ç—É–Ω–Ω–µ–ª—è
```bash
tail -f /var/log/supervisor/cloudflare-tunnel.out.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ webhook updater
```bash
tail -f /var/log/tunnel_webhook_updater.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
```bash
sudo supervisorctl restart cloudflare-tunnel
```

## üéâ –†–ï–®–ï–ù–ò–ï –ì–û–¢–û–í–û

**–ü—Ä–æ–±–ª–µ–º–∞ —ç—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç–∏ –¥–æ–º–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL —á–µ—Ä–µ–∑ Cloudflare Tunnel
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- ‚úÖ 24/7 –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤!